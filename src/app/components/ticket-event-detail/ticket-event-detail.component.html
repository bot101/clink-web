<form [formGroup]="ticketForm" (ngSubmit)="onFinish()"
  class="space-y-5 lowercase px-4 md:pt-8 md:pb-4 w-full md:max-w-[340px] md:mx-auto">
  <h2 for="eventName" class="block text-lg font-[700] text-gray-700 text-center">מחיר ופרטים נוספים</h2>

  <div>
    <label for="ticketQuantity" class="block text-sm lowercase text-gray-700">כמות כרטיסים</label>
    <app-radio-group id="ticketQuantity" formControlName="ticketQuantity" name="ticketQuantity" [options]="[
        { value: 1, label: '1' },
        { value: 2, label: '2' },
        { value: 3, label: '3' },
        { value: 4, label: '4' },
        { value: 5, label: '5' }
      ]"></app-radio-group>
    <div
      *ngIf="ticketForm.get('ticketQuantity')?.invalid && (ticketForm.get('ticketQuantity')?.dirty || ticketForm.get('ticketQuantity')?.touched)"
      class="text-red-500">
      <small *ngIf="ticketForm.get('ticketQuantity')?.errors?.['required']">שדה חובה.</small>
      <small
        *ngIf="ticketForm.get('ticketQuantity')?.errors?.['min'] || ticketForm.get('ticketQuantity')?.errors?.['max']">כמות הכרטיסים חייבת להיות בין 1 ל5.</small>
    </div>
  </div>

  <div>
    <label for="costPrice" class="block text-sm text-gray-700">מחיר עלות</label>
    <input [class.error-field]="ticketForm.get('costPrice')?.invalid && (ticketForm.get('costPrice')?.dirty || ticketForm.get('costPrice')?.touched)" type="text" id="costPrice" formControlName="costPrice" currencyMask
      [options]="{ prefix: '₪ ', thousands: ',', decimal: '.', precision: 2 }"
      class="mt-1 rounded-xl border-[#D9D9D9] border pr-4 py-3 max-w-36"
      [class.error-field]="ticketForm.errors?.['numberComparison'] && ticketForm.get('costPrice')?.touched">
      <div *ngIf="ticketForm.errors?.['numberComparison'] && ticketForm.get('costPrice')?.touched"
        class="error-text text-sm mt-1">
        מחיר המכירה לא יכול להיות גבוה יותר מהמחיר ששילמתם
      </div>
    <div
      *ngIf="ticketForm.get('costPrice')?.invalid && (ticketForm.get('costPrice')?.dirty || ticketForm.get('costPrice')?.touched)"
      class="text-red-500">
      <small *ngIf="ticketForm.get('costPrice')?.errors?.['required']">שדה חובה.</small>
      <small *ngIf="ticketForm.get('costPrice')?.errors?.['min']">מחיר חייב להיות גדול מ0.</small>
    </div>
  </div>

  <div>
    <label for="salePrice" class="block text-sm text-gray-700">מחיר מכירה</label>
    <input [class.error-field]="ticketForm.get('salePrice')?.invalid && (ticketForm.get('salePrice')?.dirty || ticketForm.get('salePrice')?.touched)" type="text" id="salePrice" formControlName="salePrice" currencyMask
      [options]="{ prefix: '₪ ', thousands: ',', decimal: '.', precision: 2 }"
      class="mt-1 rounded-xl border-[#D9D9D9] border pr-4 py-3 max-w-36"
      [class.error-field]="ticketForm.errors?.['numberComparison'] && ticketForm.get('costPrice')?.touched">
      <div *ngIf="ticketForm.errors?.['numberComparison'] && ticketForm.get('costPrice')?.touched"
        class="error-text text-sm mt-1">
        מחיר המכירה לא יכול להיות גבוה יותר מהמחיר ששילמתם
      </div>
    <div
      *ngIf="ticketForm.get('salePrice')?.invalid && (ticketForm.get('salePrice')?.dirty || ticketForm.get('salePrice')?.touched)"
      class="text-red-500">
      <small *ngIf="ticketForm.get('salePrice')?.errors?.['required']">שדה חובה.</small>
      <small *ngIf="ticketForm.get('salePrice')?.errors?.['min']">מחיר חייב להיות גדול מ0.</small>
    </div>
  </div>

  <div>
    <label for="ticketDetails" class="block text-sm text-gray-700">פירוט כללי על הכרטיס</label>
    <textarea [class.error-field]="ticketForm.get('ticketDetails')?.invalid && (ticketForm.get('ticketDetails')?.dirty || ticketForm.get('ticketDetails')?.touched)" placeholder="כרטיס באיזור גולדן רינג" id="ticketDetails" formControlName="ticketDetails"
      class="mt-1 block w-full min-h-36 rounded-xl border-[#D9D9D9] border px-4 py-3"></textarea>
    <div
      *ngIf="ticketForm.get('ticketDetails')?.invalid && (ticketForm.get('ticketDetails')?.dirty || ticketForm.get('ticketDetails')?.touched)"
      class="text-red-500">
      <small *ngIf="ticketForm.get('ticketDetails')?.errors?.['required']">שדה חובה.</small>
    </div>
  </div>

  <div>
    <app-input-field type="url" label="לינק לדף רכישת הכרטיס" formControlName="eventLink"></app-input-field>
    <!-- <label for="eventLink" class="block text-sm lowercase text-gray-700">לינק לדף רכישת הכרטיס</label> -->
    <!-- <input type="url" id="eventLink" formControlName="eventLink"
      class="mt-1 block w-full rounded-xl border-[#D9D9D9] border px-4 py-3"> -->
    <div
      *ngIf="ticketForm.get('eventLink')?.invalid && (ticketForm.get('eventLink')?.dirty || ticketForm.get('eventLink')?.touched)"
      class="text-red-500">
      <small *ngIf="ticketForm.get('eventLink')?.errors?.['required']">שדה חובה.</small>
      <small *ngIf="ticketForm.get('eventLink')?.errors?.['pattern']">אנא הזינו קישור תקין.</small>
    </div>
  </div>

  <button type="submit" [disabled]="!ticketForm.valid"
    class="w-full px-4 py-3 mt-4 border rounded-[20px] shadow-sm text-sm font-medium text-white bg-[#072d4c] disabled:opacity-50 disabled:cursor-not-allowed">
    סיום
  </button>

  <button type="button" (click)="onBack()"
    class="w-full px-4 py-3 mt-2 border rounded-[20px] shadow-sm text-sm font-medium text-[#072d4c] border-[#072d4c]">
    ביטול
  </button>
</form>